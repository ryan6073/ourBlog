---
import type { Frontmatter } from "src/pages/index.astro";
import formatDatetime from "src/utils/formatDatetime";

export interface Props {
  href?: string;
  post: Frontmatter;
  secHeading?: boolean;
}

const { href, post, secHeading = true } = Astro.props;
---

<li>
  <a href={href}>
    {secHeading ? <h2>{post.title}</h2> : <h3>{post.title}</h3>}
  </a>
  <div class="date-time-wrapper">
    <svg xmlns="http://www.w3.org/2000/svg" class="calendar"
      ><path
        d="M7 11h2v2H7zm0 4h2v2H7zm4-4h2v2h-2zm0 4h2v2h-2zm4-4h2v2h-2zm0 4h2v2h-2z"
      ></path><path
        d="M5 22h14c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2h-2V2h-2v2H9V2H7v2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM19 8l.001 12H5V8h14z"
      ></path>
    </svg>
    <span class="date-time">{formatDatetime(post.datetime)}</span>
  </div>
  <p>
    {post.description}
  </p>
</li>

<style>
  li {
    @apply mt-6;
  }
  a {
    @apply text-skin-accent font-medium text-lg;
  }
  a h2,
  a h3 {
    @apply font-medium text-lg;
  }
  .date-time-wrapper {
    @apply my-1 opacity-80;
  }
  .calendar {
    @apply scale-90;
  }
  .date-time {
    @apply italic text-sm;
  }
  svg {
    @apply w-6 h-6 inline-block fill-skin-base;
  }
</style>
